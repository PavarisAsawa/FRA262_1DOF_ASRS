/*
 * Joystick.c
 *
 *  Created on: Apr 27, 2024
 *      Author: emper
 */

#include "main.h"
#include "Joystick.h"

/*		PIN - LIST		*/
/*
	A	:	PB10
	B	:	PB4
	C	:	PB5
	D	:	PA10
*/

void Joystick_UpdateValue(JoystickStructureTypeDef* joystick)
{
	static uint16_t tempSTATE[4] = {1};

	/* Update OLD Value */
	if(HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_10) == 0)	tempSTATE[A] = 0;		//	IF SWITCH [A] PUSHED
	if(HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_4) == 0)	tempSTATE[B] = 0;		//	IF SWITCH [B] PUSHED
	if(HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_5) == 0)	tempSTATE[C] = 0;		//	IF SWITCH [C] PUSHED
	if(HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_10) == 0)	tempSTATE[D] = 0;		//	IF SWITCH [D] PUSHED

	if(!tempSTATE[A] && HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_10)) joystick->PIN[A] = 0;
	if(!tempSTATE[B] && HAL_GPIO_ReadPin(GPIOB, GPIO_PIN_4)) joystick->PIN[B] = 0;
	if(!tempSTATE[C] && HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_5))) joystick->PIN[C] = 0;
	if(!tempSTATE[D] && HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_10))) joystick->PIN[D] = 0;


}
